<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<meta name="robots" content="noai, noimageai">
<title>Pitfalls of replacing an icon font with svg icons | Coffee now</title>
<meta name="keywords" content="blogging, svg, icons, fonts" />
<meta name="description" content="This blog uses a fair few icons, such as the icons in the menu. Until today, these had been placed using a font kit from Font Awesome, which worked by using JavaScript to replace tags with the appropriate icon from their library. However, for some time I’d been wanting to move away from this method&hellip;">
<meta name="author" content="Clare">
<link rel="canonical" href="https://coffeenow.moomop.uk/post/2022/04/svg-icons/" />



<link crossorigin="anonymous" href="/css/stylesheet.min.4ee7d708f1517f7a9bd0c9a1cdfe9bdeec450b24c5e2e96e5579d94d83856f61.css" integrity="sha256-TufXCPFRf3qb0Mmhzf6b3uxFCyTF4uluVXnZTYOFb2E=" rel="preload stylesheet" as="style">
<link rel="preload" href="https://coffeenow.moomop.uk/img/coffeenow-mug.png" as="image">
<script src="https://coffeenow.moomop.uk/js/PhotoGridBox.js"></script>
<script src="https://coffeenow.moomop.uk/PhotoSwipe/photoswipe-ui-default.min.js"></script>
<script src="https://coffeenow.moomop.uk/PhotoSwipe/photoswipe.min.js"></script>
<script src="https://coffeenow.moomop.uk/js/theme.js"></script>
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://coffeenow.moomop.uk/favicons/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://coffeenow.moomop.uk/favicons/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://coffeenow.moomop.uk/favicons/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://coffeenow.moomop.uk/favicons/apple-touch-icon.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.92.2" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<meta property="og:site_name" content="Coffee now | A personal blog - old host" />
<meta property="og:title" content="Pitfalls of replacing an icon font with svg icons" />
<meta property="og:description" content="This blog uses a fair few icons, such as the icons in the menu. Until today, these had been placed using a font kit from Font Awesome, which worked by using JavaScript to replace tags with the appropriate icon from their library. However, for some time I’d been wanting to move away from this method&hellip;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://coffeenow.moomop.uk/post/2022/04/svg-icons/" /><meta property="og:image" content="https://coffeenow.moomop.uk/post/2022/04/svg-icons/svg-icon-doodle.png" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-04-09T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-04-09T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pitfalls of replacing an icon font with svg icons"/>
<meta name="twitter:description" content="This blog uses a fair few icons, such as the icons in the menu. Until today, these had been placed using a font kit from Font Awesome, which worked by using JavaScript to replace tags with the appropriate icon from their library. However, for some time I’d been wanting to move away from this method&hellip;"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://coffeenow.moomop.uk/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Pitfalls of replacing an icon font with svg icons",
      "item": "https://coffeenow.moomop.uk/post/2022/04/svg-icons/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Pitfalls of replacing an icon font with svg icons",
  "name": "Pitfalls of replacing an icon font with svg icons",
  "description": "This blog uses a fair few icons, such as the icons in the menu. Until today, these had been placed using a font kit from Font Awesome, which worked by using JavaScript to replace tags with the appropriate icon from their library. However, for some time I’d been wanting to move away from this method\u0026hellip;",
  "keywords": [
    "blogging", "svg", "icons", "fonts"
  ],
  "articleBody": "This blog uses a fair few icons, mostly for decorative reasons, such as the icons in the menu. Until today, these had been placed using a font kit from Font Awesome, which worked by using JavaScript to replace tags in the form of  with the appropriate icon from their library.\nHowever, for some time I’d been wanting to move away from this method because hosting stuff away from your site is a privacy concern; at the very least, the IP address of the visitor will be passed onto a third party, but in the case of Font Awesome’s kits, they also collect information like how many times kits have been used etc.. Also, I just wanted more flexibility than you get limiting yourself to one source of icons.\n The obvious choice to replace an icon font is to move to using svg icons, especially when you don’t have too many icons in the site, as is the case here. However, doing this hasn’t been quite as straightforward as I expected. Below records some whys and wherefores of the process.\nHow to place svg icons The simplest, and perhaps the most flexible, method to add an svg icon to html is simply place your svg code inline, i.e. directly into the html inside  …  tags.\nThis method allows full css access to the paths within the svg itself, and hence you can do all sorts of fancy things, such as animate your icons, really quite easily.\nHowever, there’s an issue just doing this too - precisely that your svg code appears in your html code. If you are ever viewing the actual html source, then it’s cluttered with an awful lot of content from svgs.\nHence, James and I are using two other methods for icon svgs:\n ‘Cloning’ from an external svg sprite file Assigning with css on pseudo-elements  Svgs from an external svg sprite file This method involves placing all your svg icons in a single text file and calling the the specific one you want via its id #identifier with the  attribute.\nThus, you have an external file ‘icon.svg’ of the form:\n xmlns=\"http://www.w3.org/2000/svg\"   id=\"arrow-right\" role=\"img\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right\" x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" points=\"12 5 19 12 12 19\"   id=\"arrow-left\" role=\"img\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-left\" x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\" points=\"12 19 5 12 12 5\"   id=\"layers\" role=\"img\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-layers\" points=\"12 2 2 7 12 12 22 7 12 2\" points=\"2 17 12 22 22 17\" points=\"2 12 12 17 22 12\" ...  and then in the html, for e.g. a right arrow:\nsvg class=\"my-icon-class\" use href=\"/path/to/icon.svg#arrow-right\"/ svg You are very limited on what can be styled via the css my-icon-class (this is because cloning results in a non-exposed DOM tree), but that’s fine for many simple icons.\nSvgs with css on pseudo-elements We also use svg icons on pseudo-elements, which are inserted via the css. In particular, the triangular caret bullet for unordered lists in posts is inserted as a background-image on its ::before pseudo-element, and moved around to where it looks nice by playing with the margins (I have no issues using negative margins for positioning).\nul li::before { content: ''; background-image: url('caret-right-solid.svg'); background-repeat: no-repeat; height: 1.1em; width: 1.1em; position: absolute; margin: 0.35em 0 0 -1.6em; } This method doesn’t allow you to change your svg at all with css (e.g. for colour), so you’re limited to doing that within the svg itself.\nThere is also a ::marker pseudo-element, which specifically selects the marker of a list item, and hence could be useful for styling lists with custom bullets. However, at present ‘content’ for that element is not a supported option in Safari (see caniuse), although that might not be too long away as support has appeared in the ‘technology preview’ version.\n Ensuring accessibility One of the advantages claimed of svgs vs icon fonts is that accessibility can be built into svgs themselves, as svgs can have child elements, especially , which can be used to pass information to assistive technology, especially screen readers.\nHowever, many, if not most, uses of icons are in fact just decorative, and for those there is no issue as they just should be hidden from screen readers with aria-hidden=\"true\". Background images, by definition, will also be hidden, and are always decorative in this blog.\nPertinently, however, we are also using icons in the prose of the posts, as you would emojis, and those do have semantic meaning that can change depending on context. Or, for instance, it’s actually an array of five separate icons that makes an image with four filled stars and then one empty star  - and collectively that’s not ‘filled star’ times four followed by ‘empty star’, but ‘four out of five stars’, yet maybe in another case the icon star  should indeed be read as ‘filled star’ or just ‘star’. In yet other cases, the star could only be decorative. Thus, you need to provide a descriptive text that is modifiable for each use.\nHence, to completely hide decorative icons, yet implement a description easily within the content written in markdown and processed into html by Hugo (i.e. in the posts themselves; see setting up the blog), we decided to keep it simple, and add aria-hidden=\"true\" to all icons and to build in screen reader text into the shortcode that calls icons for when that is necessary. This, however, does mean screen readers don’t have the context of whether something is an image or text, so is perhaps something to re-adjust at some point.\nAt the moment, the final Hugo shortcode for our blog post content icons is:\n{{- $icon := .Get 0 -}} {{- $screenreader_text := .Get 1 -}} svg aria-hidden=\"true\" class=\"content-icon\"use href=\"{{ \"icons.svg\" |absURL}}#{{ $icon }}\"/use/svg {{- with $screenreader_text -}} span class=\"sr-only\" {{ . }} /span {{- end -}} This is called with {{}} in the markdown.\nUnexpected problems and our solutions Sizing When using icons next to prose, emoji style, svg icons turned out to be far more complicated to place than an icon from a font. The only way to do this is was once again by trial and error fiddling with the size and vertical-align until it looked right.\nFor icons in prose here, I went with css to make them a little bigger than the font size and pull them down by 0.25em, and even now I wouldn’t say this is completely successful as some icons really shouldn’t have a square aspect ratio, a definite disadvantage over a font. Your mileage might vary.\n.content-icon { display: inline-block; width: 1.15em; height: 1.15em; vertical-align: -0.25em; } Using with punctuation So, here I am with sized svg icons in my prose. But ahhhh… the icons are no longer treated as text as they were when they were a font, and that means they don’t stick normally with punctuation.\nIf one of your visitors has just the wrong browser window size, then you get some very odd looking errors as lines start or end with punctuation.\nA bit more hunting around for the html equivalent of the print typesetting instruction ‘do not split’, and I discovered what can work here is surrounding your bits of text with a span styled as display: inline-block, as browsers tend to keep these elements together.\nI’m rather glad it doesn’t happen too often, as I’m adding this into the markdown these posts are written in by hand - the html isn’t really any longer than a Hugo shortcode - but it might be something to look at using javascript for.\nSvg icons and overflow-x Finally, a rather specific issue.\nIn a previous blog post, we have a table where there’s a line of stars as a rating of some cross-country races. This table does not fully fit on mobile, and to account for that we’d added a wrapper div around the table with overflow-x: auto; css to make sure a horizontal scroll bar appeared when the table was too wide for the viewport.\nWell, that certainly needed some playing with to get to work.\nFirst, within the table cell itself, we needed an extra css wrapper div with the style width: max-content; around the array of separate icons to prevent them cascading vertically, shrinking or overlapping when the table cells weren’t wide enough to fit them. Then, all looked well… until I checked it on the mobile version.\nAhhhhh… an unwanted horizontal scroll on the entire page and not just the table inside the wrapper. It took forever, but eventually I stumbled on one line of css to add to the overall wrapper div to fix that: position: relative;.\nI can only hope nothing too odd is happening in a (modern) browser I don’t test in person; I honestly doubt I’d have spotted the issue in an emulator. Although I have seen unwanted horizontal scrolls on plenty of websites that do have the benefit of a professional front-end developer, so maybe this is just tricky.\nIn conclusion… Using svg icons, especially within prose, is more complicated than using an icon font kit, and requires some work.\nBut doing so means I’m not having to self-host a large font with lots of icons I’d never use or rely on a external icon source, and hopefully having sorted these first few pitfalls, it will get simpler here on in.\n Extra shots  Iconduck resource for freely licensed svg icons\nhttps://iconduck.com Font Awesome on font icons vs svg icons (note, they provide both) (2021)\nhttps://blog.fontawesome.com/webfont-vs-svg/ Michael Irigoyen on on icon fonts vs svg icons (2021)\nhttps://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts/ Chen Hui Jing on the methods for inserting svg icons (2021) https://chenhuijing.com/blog/the-many-methods-for-using-svg-icons/ More on accessible svg icons (2021)\nhttps://css-tricks.com/accessible-svg-icons/ More on accessibility for svgs in general (2021)\nhttps://www.smashingmagazine.com/2021/05/accessible-svg-patterns-comparison/ Elliot Dahl on aligning svg icons with text (2017)\nhttps://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4 A fancier way to do star ratings with svgs and css (2021)\nhttps://samuelkraft.com/blog/fractional-svg-stars-css   Credits Thank you to those providing the open source icons used here. All icons in this blog are used under an appropriate licence, with further credits details given in svg source files and in the site credits.\n Photo of creating icons by Balázs Kétyi on Unsplash  ",
  "wordCount" : "1729",
  "inLanguage": "en",
  "datePublished": "2022-04-09T00:00:00Z",
  "dateModified": "2022-04-09T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Clare"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://coffeenow.moomop.uk/post/2022/04/svg-icons/"
  },
  "publisher": {
    "@type": "Website",
    "name": "Coffee now | A personal blog - old host",
    "logo": {
      "@type": "ImageObject",
      "url": "https://coffeenow.moomop.uk/favicons/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header" id="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://coffeenow.moomop.uk/" accesskey="h">
                <img src="https://coffeenow.moomop.uk/img/coffeenow-mug.png" alt="logo" aria-label="logo"
                    height="40">Coffee now</a>
            <span class="logo-switches">
            </span>
        </div>

        <ul id="menu">
            <li>
                <a href="https://coffeenow.moomop.uk/archives/">
                    <span>
                    <span class=menu-item-logo><svg aria-hidden="true" class="big-content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#layers"></use></svg></span>
                    <span>All posts</span>
                        </span>
                </a>
            </li>
            <li>
                <a href="https://coffeenow.moomop.uk/tags/">
                    <span>
                    <span class=menu-item-logo><svg aria-hidden="true" class="big-content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#tag"></use></svg></span>
                    <span>Tags</span>
                        </span>
                </a>
            </li>
            <li>
                <a href="https://coffeenow.moomop.uk/search/" accesskey=/>
                    <span>
                    <span class=menu-item-logo><svg aria-hidden="true" class="big-content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#search"></use></svg></span>
                    <span>Search</span>
                        </span>
                </a>
            </li>
        </ul>
        <button class="hamburger hamburger--squeeze" id="header-hamburger" type="button" aria-label="menu">
            <span class="hamburger-box">
              <span class="hamburger-inner"></span>
            </span>
        </button>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Pitfalls of replacing an icon font with svg icons
    </h1>
    <div class="post-meta"><span>9 April 2022</span>&nbsp;·&nbsp;7 min read&nbsp;·&nbsp;Clare

</div>
  </header> 
  <div class="post-content"><p>This blog uses a fair few icons, mostly for decorative reasons, such as the icons in the menu. Until today, these had been placed using a font kit from <a href="https://fontawesome.com">Font Awesome</a>, which worked by using JavaScript to replace tags in the form of <code>&lt;i class=&quot;fa-…&quot;&gt;&lt;/i&gt;</code> with the appropriate icon from their library.</p>
<p>However, for some time I’d been wanting to move away from this method because hosting stuff away from your site is a privacy concern; at the very least, the IP address of the visitor will be passed onto a third party, but in the case of Font Awesome’s kits, they also collect information like <a href="https://fontawesome.com/privacy">how many times kits have been used etc.</a>. Also, I just wanted more flexibility than you get limiting yourself to one source of icons.</p>
<figure class="cn_fig-100">
    <img loading="lazy" src="image-of-creating-icons.jpg"
         alt="sketching icons and an icon array"
         width="2000"
         height="1272"
         /> 
</figure>

<p>The obvious choice to replace an icon font is to move to using svg icons, especially when you don&rsquo;t have too many icons in the site, as is the case here. However, doing this hasn&rsquo;t been quite as straightforward as I expected. Below records some whys and wherefores of the process.</p>
<h2 id="how-to-place-svg-icons">How to place svg icons<a hidden class="anchor" aria-hidden="true" href="#how-to-place-svg-icons">#</a></h2>
<p>The simplest, and perhaps the most flexible, method to add an svg icon to html is simply <strong>place your svg code inline</strong>, i.e. directly into the html inside <code>&lt;svg&gt; … &lt;/svg&gt;</code> tags.</p>
<p>This method allows full css access to the paths within the svg itself, and hence you can do all sorts of fancy things, such as animate your icons, really quite easily.</p>
<p>However, there&rsquo;s an issue just doing this too - precisely that your svg code appears in your html code. If you are ever viewing the actual html source, then it&rsquo;s cluttered with an awful lot of content from svgs.</p>
<p>Hence, James and I are using two other methods for icon svgs:</p>
<ul>
<li>&lsquo;Cloning&rsquo; from an external svg sprite file</li>
<li>Assigning with css on pseudo-elements</li>
</ul>
<h3 id="svgs-from-an-external-svg-sprite-file">Svgs from an external svg sprite file<a hidden class="anchor" aria-hidden="true" href="#svgs-from-an-external-svg-sprite-file">#</a></h3>
<p>This method involves placing all your svg icons in a single text file and calling the the specific one you want via its id #identifier with the <code>&lt;use&gt;</code> attribute.</p>
<p>Thus, you have an external file &lsquo;icon.svg&rsquo; of the form:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;svg</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://www.w3.org/2000/svg&#34;</span><span style="color:#f92672">&gt;</span>

<span style="color:#75715e">&lt;!--  svgs from Feather Icons (https://feathericons.com; MIT License) --&gt;</span>

<span style="color:#f92672">&lt;symbol</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;arrow-right&#34;</span> <span style="color:#a6e22e">role=</span><span style="color:#e6db74">&#34;img&#34;</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 24 24&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;none&#34;</span> <span style="color:#a6e22e">stroke=</span><span style="color:#e6db74">&#34;currentColor&#34;</span> <span style="color:#a6e22e">stroke-width=</span><span style="color:#e6db74">&#34;2.5&#34;</span> <span style="color:#a6e22e">stroke-linecap=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">stroke-linejoin=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;feather feather-arrow-right&#34;</span><span style="color:#f92672">&gt;&lt;line</span> <span style="color:#a6e22e">x1=</span><span style="color:#e6db74">&#34;5&#34;</span> <span style="color:#a6e22e">y1=</span><span style="color:#e6db74">&#34;12&#34;</span> <span style="color:#a6e22e">x2=</span><span style="color:#e6db74">&#34;19&#34;</span> <span style="color:#a6e22e">y2=</span><span style="color:#e6db74">&#34;12&#34;</span><span style="color:#f92672">&gt;&lt;/line&gt;&lt;polyline</span> <span style="color:#a6e22e">points=</span><span style="color:#e6db74">&#34;12 5 19 12 12 19&#34;</span><span style="color:#f92672">&gt;&lt;/polyline&gt;</span>
<span style="color:#f92672">&lt;/symbol&gt;</span>
 
<span style="color:#f92672">&lt;symbol</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;arrow-left&#34;</span> <span style="color:#a6e22e">role=</span><span style="color:#e6db74">&#34;img&#34;</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 24 24&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;none&#34;</span> <span style="color:#a6e22e">stroke=</span><span style="color:#e6db74">&#34;currentColor&#34;</span> <span style="color:#a6e22e">stroke-width=</span><span style="color:#e6db74">&#34;2.5&#34;</span> <span style="color:#a6e22e">stroke-linecap=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">stroke-linejoin=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;feather feather-arrow-left&#34;</span><span style="color:#f92672">&gt;&lt;line</span> <span style="color:#a6e22e">x1=</span><span style="color:#e6db74">&#34;19&#34;</span> <span style="color:#a6e22e">y1=</span><span style="color:#e6db74">&#34;12&#34;</span> <span style="color:#a6e22e">x2=</span><span style="color:#e6db74">&#34;5&#34;</span> <span style="color:#a6e22e">y2=</span><span style="color:#e6db74">&#34;12&#34;</span><span style="color:#f92672">&gt;&lt;/line&gt;&lt;polyline</span> <span style="color:#a6e22e">points=</span><span style="color:#e6db74">&#34;12 19 5 12 12 5&#34;</span><span style="color:#f92672">&gt;&lt;/polyline&gt;</span>
<span style="color:#f92672">&lt;/symbol&gt;</span>

<span style="color:#f92672">&lt;symbol</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;layers&#34;</span> <span style="color:#a6e22e">role=</span><span style="color:#e6db74">&#34;img&#34;</span> <span style="color:#a6e22e">viewBox=</span><span style="color:#e6db74">&#34;0 0 24 24&#34;</span> <span style="color:#a6e22e">fill=</span><span style="color:#e6db74">&#34;none&#34;</span> <span style="color:#a6e22e">stroke=</span><span style="color:#e6db74">&#34;currentColor&#34;</span> <span style="color:#a6e22e">stroke-width=</span><span style="color:#e6db74">&#34;2.5&#34;</span> <span style="color:#a6e22e">stroke-linecap=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">stroke-linejoin=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;feather feather-layers&#34;</span><span style="color:#f92672">&gt;&lt;polygon</span> <span style="color:#a6e22e">points=</span><span style="color:#e6db74">&#34;12 2 2 7 12 12 22 7 12 2&#34;</span><span style="color:#f92672">&gt;&lt;/polygon&gt;&lt;polyline</span> <span style="color:#a6e22e">points=</span><span style="color:#e6db74">&#34;2 17 12 22 22 17&#34;</span><span style="color:#f92672">&gt;&lt;/polyline&gt;&lt;polyline</span> <span style="color:#a6e22e">points=</span><span style="color:#e6db74">&#34;2 12 12 17 22 12&#34;</span><span style="color:#f92672">&gt;&lt;/polyline&gt;&lt;/symbol&gt;</span>

...

<span style="color:#f92672">&lt;/svg&gt;</span></code></pre></div>
<p>and then in the html, for e.g. a right arrow:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;my-icon-class&#34;</span>&gt;
  &lt;<span style="color:#f92672">use</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/path/to/icon.svg#arrow-right&#34;</span>/&gt;
&lt;/<span style="color:#f92672">svg</span>&gt;</code></pre></div>
<p>You are very limited on what can be styled via the css my-icon-class (this is because cloning results in a non-exposed DOM tree), but that&rsquo;s fine for many simple icons.</p>
<h3 id="svgs-with-css-on-pseudo-elements">Svgs with css on pseudo-elements<a hidden class="anchor" aria-hidden="true" href="#svgs-with-css-on-pseudo-elements">#</a></h3>
<p>We also use svg icons on pseudo-elements, which are inserted via the css. In particular, the triangular caret bullet for unordered lists in posts is inserted as a background-image on its <code>::before</code> pseudo-element, and moved around to where it looks nice by playing with the margins (I have <a href="https://www.smashingmagazine.com/2009/07/the-definitive-guide-to-using-negative-margins/">no issues using negative margins</a> for positioning).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">ul</span> <span style="color:#f92672">li</span>::<span style="color:#a6e22e">before</span> {
    <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#39;&#39;</span>;
    <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#39;caret-right-solid.svg&#39;</span>);
    <span style="color:#66d9ef">background-repeat</span>: <span style="color:#66d9ef">no-repeat</span>;
    <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">1.1</span><span style="color:#66d9ef">em</span>;
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">1.1</span><span style="color:#66d9ef">em</span>;
    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0.35</span><span style="color:#66d9ef">em</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">-1.6</span><span style="color:#66d9ef">em</span>;
}</code></pre></div>
<p>This method doesn&rsquo;t allow you to change your svg at all with css (e.g. for colour), so you&rsquo;re limited to doing that within the svg itself.</p>
<aside class="content-box">
<p>There is also a <code>::marker</code> pseudo-element, which specifically selects the marker of a list item, and hence could be useful for styling lists with custom bullets. However, at present &lsquo;content&rsquo; for that element is not a supported option in Safari (see <a href="https://caniuse.com/css-marker-pseudo">caniuse</a>), although that might not be too long away as support has appeared in the &lsquo;technology preview&rsquo; version.</p>
</aside>
<h2 id="ensuring-accessibility">Ensuring accessibility<a hidden class="anchor" aria-hidden="true" href="#ensuring-accessibility">#</a></h2>
<p>One of the advantages claimed of svgs vs icon fonts is that accessibility can be built into svgs themselves, as svgs can have child elements, especially <code>&lt;title&gt;</code>, which can be used to pass information to assistive technology, especially screen readers.</p>
<p>However, many, if not most, uses of icons are in fact just decorative, and for those there is no issue as they just should be hidden from screen readers with <code>aria-hidden=&quot;true&quot;</code>. Background images, by definition, will also be hidden, and are always decorative in this blog.</p>
<p>Pertinently, however, we are also using icons in the prose of the posts, as you would emojis, and those do have semantic meaning that can change depending on context. Or, for instance, it&rsquo;s actually an array of five separate icons that makes <span style="display: inline-block;"><svg aria-hidden="true" class="content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#star-full"></use></svg><svg aria-hidden="true" class="content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#star-full"></use></svg><svg aria-hidden="true" class="content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#star-full"></use></svg><svg aria-hidden="true" class="content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#star-full"></use></svg><svg aria-hidden="true" class="content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#star-empty"></use></svg><span class="sr-only"> an image with four filled stars and then one empty star </span></span> - and collectively that&rsquo;s not &lsquo;filled star&rsquo; times four followed by &lsquo;empty star&rsquo;, but &lsquo;four out of five stars&rsquo;, yet maybe in another case the icon <svg aria-hidden="true" class="content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#star-full"></use></svg><span class="sr-only"> star </span> should indeed be read as &lsquo;filled star&rsquo; or just &lsquo;star&rsquo;. In yet other cases, the star could only be decorative. Thus, you need to provide a descriptive text that is modifiable for each use.</p>
<p>Hence, to completely hide decorative icons, yet implement a description easily within the content written in markdown and processed into html by Hugo (i.e. in the posts themselves; see <a href="https://coffeenow.moomop.uk/post/2021/05/setting_up_blog_i/">setting up the blog</a>), we decided to keep it simple, and add <code>aria-hidden=&quot;true&quot;</code> to all icons and to build in screen reader text into the shortcode that calls icons for when that is necessary. This, however, does mean screen readers don&rsquo;t have the context of whether something is an image or text, so is perhaps something to re-adjust at some point.</p>
<p>At the moment, the final Hugo shortcode for our blog post content icons is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go">{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">icon</span> <span style="color:#f92672">:=</span> .<span style="color:#a6e22e">Get</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">-</span>}}
{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">screenreader_text</span> <span style="color:#f92672">:=</span> .<span style="color:#a6e22e">Get</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span>}}
&lt;<span style="color:#a6e22e">svg</span> <span style="color:#a6e22e">aria</span><span style="color:#f92672">-</span><span style="color:#a6e22e">hidden</span>=<span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#a6e22e">class</span>=<span style="color:#e6db74">&#34;content-icon&#34;</span>&gt;&lt;<span style="color:#a6e22e">use</span> <span style="color:#a6e22e">href</span>=<span style="color:#e6db74">&#34;{{ &#34;</span><span style="color:#a6e22e">icons</span>.<span style="color:#a6e22e">svg</span><span style="color:#e6db74">&#34; |absURL}}#{{ $icon }}&#34;</span>&gt;&lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">use</span>&gt;&lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">svg</span>&gt;
{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">with</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">screenreader_text</span> <span style="color:#f92672">-</span>}} &lt;<span style="color:#a6e22e">span</span> <span style="color:#a6e22e">class</span>=<span style="color:#e6db74">&#34;sr-only&#34;</span>&gt; {{ . }} &lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">span</span>&gt; {{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}</code></pre></div>
<p>This is called with <code>{{&lt; svg_icon identifier &quot;screen reader text&quot; &gt;}}</code> in the markdown.</p>
<h2 id="unexpected-problems-and-our-solutions">Unexpected problems and our solutions<a hidden class="anchor" aria-hidden="true" href="#unexpected-problems-and-our-solutions">#</a></h2>
<h3 id="sizing">Sizing<a hidden class="anchor" aria-hidden="true" href="#sizing">#</a></h3>
<p>When using icons next to prose, emoji style, svg icons turned out to be far more complicated to place than an icon from a font. The only way to do this is was once again by trial and error fiddling with the size and <code>vertical-align</code> until it looked right.</p>
<p>For icons in prose here, I went with css to make them a little bigger than the font size and pull them down by 0.25em, and even now I wouldn&rsquo;t say this is completely successful as some icons really shouldn&rsquo;t have a square aspect ratio, a definite disadvantage over a font. Your mileage might vary.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">content-icon</span> {
    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">inline-block</span>;
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">1.15</span><span style="color:#66d9ef">em</span>;
    <span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">1.15</span><span style="color:#66d9ef">em</span>; 
    <span style="color:#66d9ef">vertical-align</span>: <span style="color:#ae81ff">-0.25</span><span style="color:#66d9ef">em</span>;
}</code></pre></div>
<h3 id="using-with-punctuation">Using with punctuation<a hidden class="anchor" aria-hidden="true" href="#using-with-punctuation">#</a></h3>
<p>So, here I am with sized svg icons in my prose. But ahhhh&hellip; the icons are no longer treated as text as they were when they were a font, and that means they don&rsquo;t stick normally with punctuation.</p>
<p>If one of your visitors has just the wrong browser window size, then you get some very odd looking errors as lines start or end with punctuation.</p>
<p>A bit more hunting around for the html equivalent of the print typesetting instruction &lsquo;do not split&rsquo;, and I discovered what can work here is surrounding your bits of text with a span styled as <code>display: inline-block</code>, as browsers tend to keep these elements together.</p>
<p>I&rsquo;m rather glad it doesn&rsquo;t happen too often, as I&rsquo;m adding this into the markdown these posts are written in by hand - the html isn&rsquo;t really any longer than a Hugo shortcode - but it might be something to look at using javascript for.</p>
<h3 id="svg-icons-and-overflow-x">Svg icons and overflow-x<a hidden class="anchor" aria-hidden="true" href="#svg-icons-and-overflow-x">#</a></h3>
<p>Finally, a rather specific issue.</p>
<p>In a <a href="https://coffeenow.moomop.uk/post/2022/02/cross-country-2021/#mud-and-hills-ratings">previous blog post</a>, we have a table where there&rsquo;s a line of stars as a rating of some cross-country races. This table does not fully fit on mobile, and to account for that we&rsquo;d added a wrapper div around the table with <code>overflow-x: auto;</code> css to make sure a horizontal scroll bar appeared when the table was too wide for the viewport.</p>
<p>Well, that certainly needed some playing with to get to work.</p>
<p>First, within the table cell itself, we needed an extra css wrapper div with the style <code>width: max-content;</code> around the array of separate icons to prevent them cascading vertically, shrinking or overlapping when the table cells weren&rsquo;t wide enough to fit them. Then, all looked well&hellip; until I checked it on the mobile version.</p>
<p>Ahhhhh&hellip; an unwanted horizontal scroll on the entire page and not just the table inside the wrapper. It took forever, but eventually I stumbled on one line of css to add to the overall wrapper div to fix that: <code>position: relative;</code>.</p>
<p>I can only hope nothing too odd is happening in a (modern) browser I don&rsquo;t test in person; I honestly doubt I&rsquo;d have spotted the issue in an emulator. Although I have seen unwanted horizontal scrolls on plenty of websites that do have the benefit of a professional front-end developer, so maybe this is just tricky.</p>
<h2 id="in-conclusion">In conclusion…<a hidden class="anchor" aria-hidden="true" href="#in-conclusion">#</a></h2>
<p>Using svg icons, especially within prose, is more complicated than using an icon font kit, and requires some work.</p>
<p>But doing so means I&rsquo;m not having to self-host a large font with lots of icons I&rsquo;d never use or rely on a external icon source, and hopefully having sorted these first few pitfalls, it will get simpler here on in.</p>
<hr>
<h3 id="extra-shots">Extra shots<a hidden class="anchor" aria-hidden="true" href="#extra-shots">#</a></h3>
<ul>
<li>Iconduck resource for freely licensed svg icons<br><a href="https://iconduck.com">https://iconduck.com</a></li>
<li>Font Awesome on font icons vs svg icons (note, they provide both) (2021)<br><a href="https://blog.fontawesome.com/webfont-vs-svg/">https://blog.fontawesome.com/webfont-vs-svg/</a></li>
<li>Michael Irigoyen on on icon fonts vs svg icons (2021)<br><a href="https://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts/">https://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts/</a></li>
<li>Chen Hui Jing on the methods for inserting svg icons (2021) <br><a href="https://chenhuijing.com/blog/the-many-methods-for-using-svg-icons/">https://chenhuijing.com/blog/the-many-methods-for-using-svg-icons/</a></li>
<li>More on accessible svg icons (2021)<br><a href="https://css-tricks.com/accessible-svg-icons/">https://css-tricks.com/accessible-svg-icons/</a></li>
<li>More on accessibility for svgs in general (2021)<br><a href="https://www.smashingmagazine.com/2021/05/accessible-svg-patterns-comparison/">https://www.smashingmagazine.com/2021/05/accessible-svg-patterns-comparison/</a></li>
<li>Elliot Dahl on aligning svg icons with text (2017)<br><a href="https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4">https://blog.prototypr.io/align-svg-icons-to-text-and-say-goodbye-to-font-icons-d44b3d7b26b4</a></li>
<li>A fancier way to do star ratings with svgs and css (2021)<br><a href="https://samuelkraft.com/blog/fractional-svg-stars-css">https://samuelkraft.com/blog/fractional-svg-stars-css</a></li>
</ul>
<hr>
<h3 id="credits">Credits<a hidden class="anchor" aria-hidden="true" href="#credits">#</a></h3>
<p>Thank you to those providing the open source icons used here. All icons in this blog are used under an appropriate licence, with further credits details given in svg source files and in the site credits.<br><br></p>
<ul>
<li>Photo of creating icons by <a href="https://unsplash.com/@balazsketyi?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Balázs Kétyi</a> on <a href="https://unsplash.com/s/photos/icons?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></li>
</ul>


  </div>

  <footer class="post-footer">
  <hr>
  <h3>Tagged in:</h3>
    <ul class="post-tags">
      <li><a href="https://coffeenow.moomop.uk/tags/blogging/">blogging</a></li>
      <li><a href="https://coffeenow.moomop.uk/tags/svg/">svg</a></li>
      <li><a href="https://coffeenow.moomop.uk/tags/icons/">icons</a></li>
      <li><a href="https://coffeenow.moomop.uk/tags/fonts/">fonts</a></li>
    </ul>
<hr>
<nav class="paginav">
  <a class="prev" href="https://coffeenow.moomop.uk/post/2022/06/scones/">
    <span class="navarrowleft">
        <svg aria-hidden="true" class="nav-arrow"> 
           <use href="https://coffeenow.moomop.uk/icons.svg#arrow-left"></use>
        </svg>
        <span>&nbsp;NEXT POST</span>
    </span>
    <span>Scones</span>
  </a>
  <a class="next" href="https://coffeenow.moomop.uk/post/2022/02/cross-country-2021/">
    <span class="navarrowright">
      <span>PREVIOUS POST&nbsp;</span>
      <svg aria-hidden="true" class="nav-arrow"> 
        <use href="https://coffeenow.moomop.uk/icons.svg#arrow-right"></use>
      </svg>
    </span>
    <span>Herts Sunday cross country league 21/22 review</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 Site authors. All rights reserved.</span>
    <span>
        <a href=https://coffeenow.moomop.uk/site-credits/>Made with &#x2764;&#xfe0f;,&nbsp;&#x2615; and more</a>.
    </span>
    <span>
        <a href=https://coffeenow.moomop.uk/privacy/>Privacy policy</a>.
    </span>
    <span>
        <a href=https://coffeenow.moomop.uk/index.xml target="_blank" rel="noopener noreferrer me" aria-label="Go to RSS" title="RSS"><svg aria-hidden="true" class="content-icon"><use href="https://coffeenow.moomop.uk/icons.svg#rss"></use></svg></a>    
    </span>

</footer>

<script>




























</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
